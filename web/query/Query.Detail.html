<html>
<head>
    <title>查询统计详情</title>
    <link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../datatables/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="../datatables/css/dataTables.tableTools.css">
</head>
<body>
<div id="btnback" style="margin-bottom:10px">
    <button type="button" id="back" class="btn btn-primary" autocomplete="off">
        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;&nbsp;返回
    </button>
</div>

<div class="panel-group" id="charts" role="tablist" aria-multiselectable="true">
    <script>
        var types = new Array();
    </script>
    <#list charts as chart>
        <div class="panel panel-default">
            <#if chart.CHART_TYPE == 0>
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a href="#collapseTable" data-toggle="collapse" aria-expanded="true"
                           aria-controls="collapseTable"
                           data-parent="#charts">表格</a>
                    </h4>
                </div>
                <div id="collapseTable" class="block-body collapse in">
                    <div class="panel-body">
                        <script>types.push("table");</script>
                        <#if chart.CHART_OPTION?exists>
                            <#assign tableOption = chart.CHART_OPTION/>
                        </#if>
                        <table id="tableChart">
                            <thead>
                            <tr>
                                <#list aliases as alias>
                                    <th>${alias.ALIASES_NAME}</th>
                                </#list>
                            </tr>
                            </thead>
                            <tfoot>
                            <tr>
                                <#list aliases as alias>
                                    <th>${alias.ALIASES_NAME}</th>
                                </#list>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </#if>

            <#if chart.CHART_TYPE == 1>
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a href="#collapsePie" data-toggle="collapse" aria-expanded="false"
                           aria-controls="collapsePie"
                           data-parent="#charts">饼状图</a>
                    </h4>
                </div>
                <div id="collapsePie" class="block-body collapse">
                    <div class="panel-body">
                        <script>types.push("pie");</script>
                        <div id="pieContainer" style="min-width:700px;height:300px"></div>
                    </div>
                </div>
            </#if>

            <#if chart.CHART_TYPE == 2>
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a href="#collapseBar" data-toggle="collapse" aria-expanded="false"
                           aria-controls="collapseBar"
                           data-parent="#charts">柱状图</a>
                    </h4>
                </div>
                <div id="collapseBar" class="block-body collapse">
                    <div class="panel-body">
                        <script>types.push("bar");</script>
                        <div id="barContainer" style="min-width:700px;height:300px"></div>
                    </div>
                </div>
            </#if>

            <#if chart.CHART_TYPE == 3>
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a href="#collapseLine" data-toggle="collapse" aria-expanded="false"
                           aria-controls="collapseLine"
                           data-parent="#charts">折线图</a>
                    </h4>
                </div>
                <div id="collapseLine" class="block-body collapse">
                    <div class="panel-body">
                        <script>types.push("line");</script>
                        <div id="lineContainer" style="min-width:700px;height:300px"></div>
                    </div>
                </div>
            </#if>


        </div>
    </#list>
</div>
<script>
    var queryId = '${queryId}';
    var tableOption = JSON.parse('${tableOption}');
</script>
<script src="../datatables/js/jquery.js"></script>
<script src="../bootstrap/js/bootstrap.min.js"></script>
<script src="../datatables/js/jquery.dataTables.js"></script>
<script src="../datatables/js/dataTables.tableTools.js"></script>
<script src="../chart/highcharts.js"></script>
<script src="query-detail.js"></script>
</body>
</html>
